<div>

  <app-header
    [base]="base"
    [date]="date"
    [baseDropDown]="baseDropDown"
    (changedParams)="getWithParams($event)"
    (changedPeriodParams)="getWithParams($event)"
  ></app-header>

  <div *ngIf="errShow; then errorBlock else currencyBlock"></div>

  <ng-template #errorBlock>
    <app-error [message]="errorText">
    </app-error>
  </ng-template>

  <ng-template #currencyBlock>
    <div
      *ngIf="!loading"
      class="container"
    >
      <div
        *ngFor="let rate of rates | keyvalue"
        class="items"
      >
      <a
        *ngIf="rate.key && rate.value"
        [routerLink]="['/currency', rate.key]"
        [state]="{ data: baseDropDown }"
        class="item"
      >
        <div class="name-wrapper">
          <p>
            {{ rate.key }}
          </p>
        </div>

        <div class="value-wrapper">
          <p>
            {{ rate.value | currency:rate.key:'symbol-narrow':'1.2-2' }}
          </p>
        </div>
      </a>
    </div>
    </div>
  </ng-template>

</div>
